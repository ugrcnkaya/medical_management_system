{% extends "base.html" %}
{% block title %}Appointments{% endblock %}
{% block head %}
    <link href="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.css') }}" rel="stylesheet">
{% endblock %}
{% block content %}







                    <!-- Page Heading -->
                    <h1 class="h3 mb-4 text-gray-800">Appointments</h1>
 <!-- DataTales Example -->
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold text-primary">Appointments</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Name</th>
                                            <th>Specification</th>
                                            <th>Type</th>
                                            <th>Room</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                      {% for appointment in appointments %}
                                        <tr>
                                        <td> {{ appointment.Schedule_Date.strftime('%d/%m/%Y') }} @ {{ appointment.Start_Time }} - {{ appointment.End_Time }}</td>
                                            <td>{{ appointment.Staff_Name }}</td>
                                            <td>{{ appointment.Specification }}</td>
                                            <td>{{ appointment.Type }}</td>
                                            <td> {{ appointment.Room }}</td>
                                            <td>
                                            {% if appointment.Status == 1 %}
                                                Active

                                                <button style="color:red!important;" type="button" class ="close" onClick="if(confirm('Do you want to the cancel the following appointment? \n {{ appointment.Schedule_Date.strftime('%d/%m/%Y')  }} - {{ appointment.Staff_Name }} \n  {{ appointment.Specification }} ')) cancelAppointment({{ appointment.Appointment_ID }})">
                                                <span aria-hidden="true">&times;</span>

                                                </button>
                                            {% elif appointment.Status == 0 %}
                                                Cancelled
                                            {% endif %}</td>











                                        </tr>
                                         {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


{% endblock %}

{% block scripts %}

       <!-- Page level plugins -->
    <script src="{{ url_for('static', filename='vendor/datatables/jquery.dataTables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/datatables/dataTables.bootstrap4.min.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}